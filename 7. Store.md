# 스토어

- [스토어](#스토어)
  - [스토어 사용 과정](#스토어-사용-과정)
    - [구독 사용](#구독-사용)
    - [구독 종료](#구독-종료)
    - [스토어 값 변경(set 메소드)](#스토어-값-변경set-메소드)
    - [자동 구독](#자동-구독)
    - [스토어 값 변경(update 메소드)](#스토어-값-변경update-메소드)
  - [writable 스토어](#writable-스토어)
  - [readable 스토어](#readable-스토어)
  - [derived 스토어](#derived-스토어)
  - [사용자 정의 스토어](#사용자-정의-스토어)
  - [스토어 값에 접근하는 방법](#스토어-값에-접근하는-방법)

* 스토어는 같은 스벨트 애플리케이션에 속한 컴포넌트끼리 데이터를 자유롭게 공유하기 위한 방식
* subscribe 함수를 사용하여 컴포넌트는 애플리케이션 전체에 공유된 스토어 데이터 변화를 감지

## 스토어 사용 과정

### 구독 사용

subscribe 함수로 구독 설정. subscribe 함수는 스토어 값이 변경되었을 때 콜백 함수를 호출. 콜백 함수가 넘겨받는 매개변수는 누군가가 변경한 스토어 값.

### 구독 종료

subscribe 함수를 호출하면 함수를 반환하는데, 이 함수를 호출하면 구독이 종료됨

구독 종료 시점은 컴포넌트가 파괴되는 시점에 함(onDestroy)

### 스토어 값 변경(set 메소드)

스토어 값을 특정 값으로 변경하고자 할 때 사용

특정 변수 값이 변경되었을 때 센서 코드(`$:`)를 사용하여 주로 스토어 값을 변경

### 자동 구독

스토어 이름 앞에 $를 붙여 사용

### 스토어 값 변경(update 메소드)

스토어의 값을 전달받아 이 값을 변경하고자 할 때 사용

## writable 스토어

어떤 컴포넌트에서든지 자유롭게 읽고 쓸 수 있는 스토어

## readable 스토어

읽기만 가능한 스토어. subscribe는 제공하지만 update, set 메서드는 제공하지 않음.

## derived 스토어

기존 스토어 값으로 다른 값을 자동으로 만들기 위한 스토어

## 사용자 정의 스토어

기존 스토어에 새로운 기능을 추가한 스토어

## 스토어 값에 접근하는 방법

1. `$STORE_NAME` 으로 접근
2. subscribe의 콜백함수에서 넘겨받는 인자로 접근
3. get() 함수를 사용하여 접근.

1, 2번째 방법은 변경사항을 실시간으로 알 수 있는 리액티브한 방법. 이에 시스템 자원을 필요로 함. 특정 시점에만 스토어 값에 접근한다면 get() 함수를 쓰는 걸 추천.